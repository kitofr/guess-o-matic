<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>Guess-o-Matic</title>
  <script type="text/javascript" src="elm.js"></script>
</head>

<body>
  <div id="elm-app-lives-here"></div>

<script type="text/javascript">
  var elmDiv = document.getElementById('elm-app-lives-here');
  var elmApp = Elm.embed(Elm.Main, elmDiv);

  var playSound = function(what){
    var snd = new Audio("./sounds/" + what + ".mp3");
    snd.play();
  };

  elmApp.ports.guessChanges.subscribe(function(guess) {
    console.log(guess);
    var ch = guess.slice(-1).toLowerCase();
    playSound(ch);
  });

  elmApp.ports.correct.subscribe(function(isCorrect) {

    console.log(isCorrect);
    if(!isCorrect)
      return;
    playSound('tada');
  });

</script>

</body>
</html>
